jQuery.ajax=function(e){var t=jQuery.Deferred().resolve(e);return t.promise()},ko.bindingHandlers.datepicker={init:function(e,t,a){var r=a().datepickerOptions||{language:"it",format:"dd/mm/yyyy",startDate:moment().add(1,"d").toDate(),clearBtn:!0,todayBtn:"linked",autoclose:!0,todayHighlight:!0},n=t();$(e).datepicker(r),$(e).datepicker("setDate",n().toDate()),ko.utils.registerEventHandler(e,"changeDate",function(e){var a=t();ko.isObservable(a)&&a(moment(e.date))}),ko.utils.registerEventHandler(e,"clearDate",function(e){var a=t();ko.isObservable(a)&&a(null)})},update:function(e,t){var a,r=$(e).data("datepicker");r&&(a=ko.utils.unwrapObservable(t()),r.date=a?a.toDate():null,r.setValue())}};
this.webapp=function(n){var t=function(){var n=this;n.newToDoItemAdded=new Bacon.Bus};return n.ApplicationBus=function(){return new t},n}(this.webapp||{});
this.webapp=function(e){var t=function(){var e=this,t=Enumerable.cycle({title:"Star Wars Rogue One",description:"Hype!",dueDate:moment()}).take(1).union(Enumerable.cycle({title:"Todo ",description:"This is the Todo #",dueDate:moment()}).take(5).select(function(e,t){var n=t+=1;return{title:e.title+n,description:e.description+n,dueDate:e.dueDate}})).toArray();e.loadTodoItems=function(){var e=[];return Enumerable.from(t).forEach(function(t){e.push(t)}),jQuery.ajax(e)},e.insertNewToDoItem=function(e){return t.push(e),jQuery.ajax(!0)}};return e.ApiService=function(){return new t},e}(this.webapp||{});
this.webapp=function(e){var t=function(e,t){var o=this;o.title=ko.observable(""),o.description=ko.observable(""),o.dueDate=ko.observable(moment().add(1,"d")),o.incorrectDueDate=ko.computed(function(){return!this.dueDate()||!(this.dueDate().isValid()&&this.dueDate()>moment())},o),o.canInsertNewItem=ko.computed(function(){return this.title()&&this.description()&&!this.incorrectDueDate()},o),o.insertNewItem=function(){var n={title:o.title(),description:o.description(),dueDate:o.dueDate()};e.insertNewToDoItem(n).done(function(e){e?(o.title(""),o.description(""),o.dueDate(moment().add(1,"d")),t.newToDoItemAdded.push(!0)):t.newToDoItemAdded.error(new Bacon.Error("Error inserting a new ToDo item"))}).fail(function(){t.newToDoItemAdded.error(new Bacon.Error("Error inserting a new ToDo item"))})}};return e.NewToDoItemViewModel=function(e,o){return new t(e,o)},e}(this.webapp||{});
this.webapp=function(e){var o=function(e,o){var r,n=this;n.items=ko.observableArray([]),n.errorMessage=ko.observable(""),r=function(){e.loadTodoItems().then(function(e){n.items.removeAll(),n.items(e)}).fail(function(e){n.errorMessage("WARNING: an error has occurred loading items")})},o.newToDoItemAdded.onValue(function(){r()}),o.newToDoItemAdded.onError(function(e){n.errorMessage(e.message)}),n.init=function(){n.errorMessage(""),r()}};return e.ToDoListViewModel=function(e,r){return new o(e,r)},e}(this.webapp||{});
this.webapp=function(i){return jQuery(document).ready(function(){var o=i.ApiService(),e=i.ApplicationBus(),t={toDoList:i.ToDoListViewModel(o,e),newToDoItem:i.NewToDoItemViewModel(o,e)};ko.applyBindings(t),t.toDoList.init()}),i}(this.webapp||{});
//# sourceMappingURL=site.min.js.map
